var o=(c,t,e)=>new Promise((r,a)=>{var n=i=>{try{s(e.next(i))}catch(l){a(l)}},d=i=>{try{s(e.throw(i))}catch(l){a(l)}},s=i=>i.done?r(i.value):Promise.resolve(i.value).then(n,d);s((e=e.apply(c,t)).next())});import{renderListWithTemplate as m}from"./utils.js";export default class u{constructor(t,e,r){this.category=t,this.listElement=r,this.dataSource=e}init(){return o(this,null,function*(){const t=yield this.dataSource.getData(this.category);var e=document.querySelector("#title"),r=this.category;r=r[0].toUpperCase()+r.slice(1),e.innerHTML=`Top Products: ${r}`;var a=this.filterList(t);this.renderList(a);var n=document.getElementById("location");n.innerHTML=`${r} > (${a.length} items)`})}prepareTemplate(t,e){return t.querySelector("a").href+=e.Id,t.querySelector("img").src=e.Images.PrimaryMedium,t.querySelector("img").alt+=e.Name,t.querySelector(".card__brand").textContent=e.Brand.Name,t.querySelector(".card__name").textContent=e.NameWithoutBrand,t.querySelector(".product-card__price").textContent+=e.FinalPrice,t}filterList(t){var e=t.filter(r=>r.Id!=="989CG"&&r.Id!=="880RT");return e}renderList(t){this.listElement.innerHTML="";const e=document.getElementById("product-card-template");m(e,this.listElement,t,this.prepareTemplate)}}
